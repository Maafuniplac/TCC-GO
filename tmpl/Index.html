{{define "Index"}}

   {{template "_head"}}

      {{template "_menu"}}
   
   <body>
      <div class="container">
         <section class="card">
            <div>
            <div class="card-footer">
            <a href="/new" class="btn btn-primary mb-2">Novo Cliente</a>
            </div>
               <table class="table table-striped table-hover mb-0">
                  <thead>
                     <tr>
                        <th>Nome</th>
                        <th>Cpf/Cnpj</th>
                        <th>Telefone</th>
                        <th>Email</th>
                     </tr>
                  </thead>
                  <tbody>
                     {{range .}} 
                     <tr>
                        <td>{{.Nome}}</td>
                        <td>{{.CpfCnpj}}</td>
                        <td>{{.Telefone}}</td>
                        <td>{{.Email}}</td> 
                        <td><a href="email?idcliente={{.Id}}" class="btn btn-info">Email</td>  
                        <td><a href="veic?idcliente={{.Id}}" class="btn btn-info">Veiculos</td>
                        <td><a href="edit?idcliente={{.Id}}" class="btn btn-info">Editar Cliente</td>                   
                        <td><button onclick="onDelete('{{.Id}}')" class="btn btn-danger">Deletar</td>
                     </tr>
                     {{end}}
                  </tbody>
               </table>
               
            </div>
         </section>         
      </div>
   </body>

   <script>
      function onDelete(id){
         let resposta = confirm("Tem certeza que deseja deletar este cliente ? Id: " + id)
         if (resposta){
            window.location = "/delete?id=" + id
         }
      }
   </script>

</html>
{{end}}